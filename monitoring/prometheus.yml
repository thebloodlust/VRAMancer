# VRAMancer â€” Prometheus Configuration
# Scrapes VRAMancer metrics from port 9108 (prometheus_client)

global:
  scrape_interval: 15s
  evaluation_interval: 15s
  scrape_timeout: 10s

rule_files:
  - "alerting_rules.yml"

alerting:
  alertmanagers:
    - static_configs:
        - targets:
            - "alertmanager:9093"

scrape_configs:
  # VRAMancer inference node
  - job_name: "vramancer"
    static_configs:
      - targets: ["inference:9108"]
        labels:
          instance: "primary"
    metrics_path: /metrics
    scrape_interval: 10s

  # Optional: multiple worker nodes (uncomment & adjust)
  # - job_name: "vramancer-workers"
  #   static_configs:
  #     - targets:
  #         - "worker-1:9108"
  #         - "worker-2:9108"
  #   scrape_interval: 15s
